{"version":3,"sources":["icons sync /.svg$","icons/chart.svg","icons/left.svg","icons/money.svg","icons/right.svg","icons/tag.svg","components/Icon.tsx","components/Nav.tsx","components/Layout.tsx","views/Money/CategorySection.tsx","components/Input.tsx","views/Money/NoteSection.tsx","views/Money/NumberPadSection/Wrapper.tsx","views/Money/NumberPadSection.tsx","views/Money/NumberPadSection/generateOutput.tsx","lib/createId.tsx","hooks/useUpdate.tsx","hooks/useTags.tsx","views/Money/TagsSection.tsx","hooks/useRecords.tsx","views/Money.tsx","views/Statistics.tsx","components/Button.tsx","views/Tags.tsx","views/NoMatch.tsx","views/TagEdit.tsx","App.tsx","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","symbol","add","requireContext","require","forEach","error","console","log","Icon","props","name","children","className","reset","classnames","xlinkHref","NavWrapper","styled","nav","Nav","to","activeClassName","Wrapper","div","Main","Layout","section","CategorySection","categoryMap","category","value","useState","categoryList","c","onClick","onChange","key","Label","label","Input","rest","NoteSection","note","type","placeholder","target","NumberPadSection","toString","output","_setOutput","text","textContent","split","concat","indexOf","outputValue","length","slice","parseFloat","setOutput","generateOutput","onOK","parseInt","window","localStorage","getItem","createId","setItem","useUpdate","fn","deps","count","useRef","useEffect","current","useTags","tags","setTags","JSON","stringify","localTags","parse","addTag","tagName","prompt","trim","findTag","filter","tag","updateTag","obj","findTagIndex","result","i","deleteTag","getName","t","TagsSection","selectedTagIds","tagId","useRecords","records","setRecords","addRecord","newRecord","amount","alert","tagIds","record","createdAt","Date","toISOString","MyLayout","CategoryWrapper","defaultData","Money","selected","setSelected","Item","Header","h3","Statistics","setCategory","selectedRecords","r","hash","day","format","push","array","entries","sort","a","b","date","tagID","reduce","span","index","Button","button","TagList","ol","Center","Space","Tags","NoMatch","Topbar","header","InputWrapper","TagEdit","idString","useParams","history","useHistory","goBack","tagContent","AppWrapper","App","exact","path","from","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.95c0be4f.chunk.js","sourcesContent":["var map = {\n\t\"./chart.svg\": 40,\n\t\"./left.svg\": 41,\n\t\"./money.svg\": 42,\n\t\"./right.svg\": 43,\n\t\"./tag.svg\": 44\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 39;","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"chart\",\n  \"use\": \"chart-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"chart\\\"><path d=\\\"M475.429 73.143C212.822 73.143 0 286 0 548.57S212.822 1024 475.429 1024C738 1024 950.857 811.143 950.857 548.571H475.43V73.143zM871.07 621.714c-34.5 187.036-198.786 329.143-395.642 329.143-221.823 0-402.286-180.463-402.286-402.286 0-196.856 142.107-361.142 329.143-395.624V621.714H871.07zM548.571 0v475.429H1024C1024 212.857 811.143 0 548.571 0zm73.143 79.804c163.321 30.106 292.358 159.177 322.5 322.482h-322.5V79.804z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"left\",\n  \"use\": \"left-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"left\\\"><defs><style></style></defs><path d=\\\"M670.955 86.827L269.44 488.363a32 32 0 00-2.09 42.965l2.09 2.283 401.493 401.557a8.533 8.533 0 006.038 2.496h66.368a8.533 8.533 0 006.037-14.57L337.28 511.018 749.397 98.9a8.533 8.533 0 00-6.037-14.57h-66.347a8.533 8.533 0 00-6.058 2.496z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"money\",\n  \"use\": \"money-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"money\\\"><path d=\\\"M654.689 340.577a255.738 255.738 0 00113.308-212.568A96 96 0 00614.4 51.199a127.999 127.999 0 00-204.798 0 96 96 0 00-153.599 76.81 255.738 255.738 0 00113.31 212.568C173.892 401.337 32.004 583.594 32.004 799.002 32.005 923.261 132.744 1024 257.002 1024h509.996c124.258 0 224.997-100.739 224.997-224.998 0-215.408-141.888-397.666-337.306-458.425zm-278.458-76.8a190.738 190.738 0 01-56.23-135.768 32 32 0 0132-32 31.67 31.67 0 0119.16 6.37 64 64 0 0089.61-12.73 64 64 0 01102.458 0 64 64 0 0089.61 12.73 31.66 31.66 0 0119.16-6.37 32 32 0 0132 32 191.998 191.998 0 01-175.46 191.288q-8.24-.29-16.539-.29-8.3 0-16.53.29a190.548 190.548 0 01-119.229-55.53zm504.605 649.064a159.998 159.998 0 01-113.838 47.16H257.002A160.998 160.998 0 0196.004 799.002 415.556 415.556 0 01494.23 383.386c5.87.4 11.79.62 17.77.62s11.89-.22 17.77-.62a415.576 415.576 0 01398.226 415.616 159.998 159.998 0 01-47.16 113.84zM630.63 521.375a32 32 0 00-45.26 0L512 594.755l-73.37-73.37a32 32 0 00-45.249 45.26l73.36 73.359H416a32 32 0 000 64h64v63.998h-64a32 32 0 000 64h64v32a32 32 0 0063.999 0v-32h64a32 32 0 000-64h-64v-63.999h64a32 32 0 000-64h-50.74l73.369-73.369a32 32 0 000-45.26z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"right\",\n  \"use\": \"right-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"right\\\"><defs><style></style></defs><path d=\\\"M353.045 86.827L754.56 488.363a32 32 0 012.09 42.965l-2.09 2.283-401.493 401.557a8.533 8.533 0 01-6.038 2.496h-66.368a8.533 8.533 0 01-6.037-14.57L686.72 511.018 274.603 98.9a8.533 8.533 0 016.037-14.57h66.347a8.533 8.533 0 016.058 2.496z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"tag\",\n  \"use\": \"tag-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"tag\\\"><path d=\\\"M796.992 497.696l-333.376 333.44h-.128L191.904 559.68l333.44-333.44c8.128-.832 28.256-2.24 75.936-2.24 82.24 0 191.68 4 193.824 5.12 4.16 111.296 5.824 236.896 1.92 268.576m62.08-269.76c0-35.2-28.64-63.84-62.656-63.84h-.064c-1.088-.032-111.68-4.096-195.104-4.096-96.16 0-104.8 4.64-115.2 15.04L146.656 514.464c-24.96 24.96-24.896 65.6.16 90.656l271.232 271.232c12.16 12.128 28.256 18.784 45.44 18.784 17.152 0 33.184-6.624 45.184-18.624l339.424-339.424c11.2-11.2 21.76-21.76 10.976-309.152M609.376 440.288c-26.464 0-48-21.536-48-48s21.536-48 48-48 48 21.536 48 48-21.536 48-48 48m0-160c-61.76 0-112 50.24-112 112s50.24 112 112 112 112-50.24 112-112-50.24-112-112-112\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react';\nimport classnames from 'classnames'\n\nlet importAll = (requireContext: __WebpackModuleApi.RequireContext) => requireContext.keys().forEach(requireContext);\ntry {importAll(require.context('icons', true, /\\.svg$/));} catch (error) {console.log(error);}\n\ntype Props = {\n  name?: string\n} & React.SVGAttributes<SVGElement>  // 使得 ICON 组件支持点击事件\n\nconst Icon = (props: Props) => {\n  const {name,children, className, ...reset } = props\n  // 将 className 提出来是因为，外部的 className 可能会影响到 icon 的className，从而影响样式\n  return (\n    <svg className={ classnames('icon',className )} {...reset}>\n      {props.name && <use xlinkHref={'#' + props.name}/>}\n    </svg>\n  );\n};\n\nexport default Icon;\n","import styled from 'styled-components';\nimport { NavLink} from 'react-router-dom';\nimport React from 'react';\nimport Icon from './Icon';\n\nconst NavWrapper = styled.nav`\n  background-color: #fff;\n  line-height: 24px;\n  box-shadow: 0 0 3px rgba(0,0,0,0.25);\n  > ul {\n    display:flex;\n    > li{\n      width: 33.3333%;\n      text-align:center;\n      >a{\n         display: flex;\n        flex-direction: column;\n        padding: 4px 0;\n        justify-content: center;\n        align-items: center;\n        .icon {\n          width: 24px;      \n          height: 24px;\n        }\n        &.selected{\n          color:blue;\n          background-color:#04f5f0;\n          .icon{\n            fill:blue;\n          }\n        }\n      }\n\n    }\n  }\n`;\n\nconst Nav = () => {\n  return (\n    <NavWrapper>\n      <ul>\n        <li>\n          <NavLink to=\"/tags\" activeClassName=\"selected\">\n            <Icon name=\"tag\"/>\n\n            标签页\n          </NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/money\" activeClassName=\"selected\">\n            <Icon name=\"money\"/>\n            记账页\n          </NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/statistics\" activeClassName=\"selected\" >\n            <Icon name=\"chart\"/>\n\n            统计页\n          </NavLink>\n        </li>\n      </ul>\n    </NavWrapper>\n  );\n};\n\nexport default Nav;\n","import Nav from './Nav';\nimport React from 'react';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  height: 100vh;\n  display:flex;\n  flex-direction: column;\n`;\nconst Main = styled.div`\n  flex-grow: 1;\n  overflow: auto;\n`;\nconst Layout = (props: any) => {\n  return (\n    <Wrapper>\n      <Main className={props.className}>\n        {props.children}\n      </Main>\n      <Nav/>\n    </Wrapper>\n  );\n};\n\nexport default Layout;\n","import styled from 'styled-components';\r\nimport React, {useState} from 'react';\r\n\r\nconst Wrapper = styled.section`\r\n  > ul{\r\n  display: flex;\r\n   font-size: 24px ;\r\n\r\n    >li{\r\n       width: 50%;\r\n       text-align: center;\r\n       padding:16px 0 ;\r\n       position: relative;\r\n     &.selected::after{\r\n         content:'';\r\n         display: block;\r\n         height: 2px ;\r\n         background-color: black;\r\n         position:absolute;\r\n         width: 100%;\r\n         bottom: 0;\r\n         left:0;\r\n     }  \r\n    }\r\n  }\r\n\r\n`;\r\n\r\ntype PropsType={\r\n  value:'-' | '+'\r\n  onChange:(value:'-' | '+') =>void;\r\n}\r\n\r\nconst CategorySection: React.FC<PropsType> = (props) => {\r\n  const categoryMap = {'-': '支出', '+': '收入'};\r\n  // type Keys = keyof typeof  categoryMap   // 然后categoryList 类型就是zhegeKeys\r\n\r\n  // const [category, setCategory] = useState('-');\r\n\r\n  const category = props.value                            // - 表示支出， + 表示收入\r\n  const [categoryList] = useState<('-' | '+')[]>(['-', '+']);\r\n\r\n\r\n  return (\r\n    <Wrapper>\r\n      <ul>\r\n        {categoryList.map(c =>\r\n          <li className={category === c ? 'selected' : ''} onClick={() => {props.onChange(c);}} key={c}>{categoryMap[c]}</li>\r\n        )}\r\n\r\n        {/*<li className={category === '+' ? 'selected' : ''} onClick={() => setCategory('+')}>收入</li>*/}\r\n      </ul>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport {CategorySection};","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Label = styled.label`\r\n    display: flex;\r\n    align-items: center;\r\n    > span{\r\n      margin-right: 16px;\r\n      white-space:nowrap;\r\n    }\r\n    > input{\r\n      display: block;\r\n      width: 100%;\r\n      height: 44px;\r\n      background:none;\r\n      border:none;\r\n      padding-bottom: 3px;\r\n    }\r\n`\r\ntype PropsType = { label:string; } & React.InputHTMLAttributes<HTMLInputElement>\r\n\r\nconst Input:React.FC<PropsType>   =(props)=>{\r\n  const {label, children, ...rest}= props\r\n\r\n  return (\r\n    <Label>\r\n      <span>备注：</span>\r\n      <input {...rest} />\r\n    </Label>\r\n  )\r\n}\r\n\r\nexport {Input}\r\n","import styled from 'styled-components';\r\nimport React, {ChangeEventHandler} from 'react';\r\nimport {Input} from '../../components/Input';\r\n\r\nconst Wrapper = styled.section`\r\n    background-color: #f5f5f5;\r\n    padding: 14px 16px;\r\n    font-size: 14px;\r\n    \r\n`;\r\n\r\ntype PropsType = {value:string; onChange:(value:string)=>void}\r\n\r\nconst NoteSection: React.FC<PropsType> = (props) => {\r\n  const note = props.value\r\n\r\n  // 由于ref 属性传递不出去，采用 受控组件\r\n  const onChange:ChangeEventHandler<HTMLInputElement> = (e) => {\r\n      props.onChange(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Input type='text' label='备注' placeholder='你还没有输入备注~' value={note} onChange={onChange} >\r\n      </Input>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport {NoteSection};\r\n","import styled from 'styled-components';\r\n\r\nconst Wrapper = styled.section`\r\n  display: flex;\r\n  flex-direction: column;\r\n  > .output{\r\n    background-color: white;\r\n    font-size: 36px;\r\n    line-height: 72px;\r\n    text-align: right;\r\n    padding: 0 16px;\r\n    box-shadow: inset 0 -5px 5px -5px rgba(0,0,0,0.25),\r\n    inset 0 5px 5px -5px rgba(0,0,0,0.25);\r\n  }\r\n  > .Pad{\r\n    > button{\r\n      float:left ;\r\n      width: 25%;\r\n      height: 64px;\r\n      font-size:18px;\r\n      border:none;\r\n      &.ok{\r\n        float: right;\r\n        height:128px;\r\n      }\r\n      &.zero{\r\n        width: 50%;\r\n      }\r\n      &:nth-child(1){\r\n        background-color: #8afcc4;\r\n      }\r\n      &:nth-child(2),&:nth-child(5){\r\n        background-color:#5cfabd;\r\n      }\r\n      &:nth-child(3),&:nth-child(6),&:nth-child(9){\r\n        background-color:#45f8ad;\r\n      }\r\n      &:nth-child(4),&:nth-child(7),&:nth-child(10){\r\n        background-color:#27faa3;\r\n      }\r\n      &:nth-child(8),&:nth-child(11),&:nth-child(13){\r\n        background-color:#19f8a2;\r\n      }\r\n      &:nth-child(12){\r\n        background-color:#00db8e;\r\n      }\r\n      &:nth-child(14){\r\n        background-color:#24e9a4;\r\n      }\r\n  }\r\n}\r\n\r\n`;\r\n\r\nexport {Wrapper}","import React, {useState} from 'react';\nimport {Wrapper} from './NumberPadSection/Wrapper';\nimport {generateOutput} from './NumberPadSection/generateOutput';\n\ntype PropsType = {\n  value: number,\n  onChange: (value: number) => void,\n  onOK?: () => void\n}\n\nconst NumberPadSection: React.FC<PropsType> = (props) => {\n  const [output,_setOutput]  = useState(props.value.toString());\n\n  const setOutput = (output: string) => {\n    let outputValue;\n    if (output.length > 16) {\n      outputValue = (output.slice(0, 16));\n    } else if (output.length === 0) {\n      outputValue = '0';\n    } else {\n      outputValue = (output);\n    }\n    _setOutput(outputValue)\n    props.onChange(parseFloat(outputValue));\n  };\n  // const [output, _setOutput] = useState('0');\n\n\n  const onClickButtonWrapper = (e: React.MouseEvent) => {\n    const text = (e.target as HTMLButtonElement).textContent;\n    if (text === null) return;\n\n    if (text === 'OK') {\n      if(props.onOK){\n        props.onOK()\n      }\n      return;\n    }\n\n    if ('.0123456789'.split('').concat(['C', 'CE']).indexOf(text) >= 0) {\n\n      setOutput(generateOutput(text, output));\n    }\n  };\n\n  return (\n    <Wrapper>\n      <div className='output'>{output}</div>\n      <div className='Pad clearfix' onClick={onClickButtonWrapper}>\n        <button>1</button>\n        <button>2</button>\n        <button>3</button>\n        <button>C</button>\n\n        <button>4</button>\n        <button>5</button>\n        <button>6</button>\n        <button>CE</button>\n\n        <button>7</button>\n        <button>8</button>\n        <button>9</button>\n        <button className='ok'>OK</button>\n        <button className='zero'>0</button>\n        <button className='dot'>.</button>\n      </div>\n    </Wrapper>\n  );\n};\n\nexport {NumberPadSection};","const generateOutput = (text: string, output = '0') => {\r\n\r\n  switch (text) {\r\n    case '0':\r\n    case '1':\r\n    case '2':\r\n    case '3':\r\n    case '4':\r\n    case '5':\r\n    case '6':\r\n    case '7':\r\n    case '8':\r\n    case '9':\r\n      if (output === '0') {\r\n        return text;\r\n      } else {\r\n        return (output + text);\r\n      }\r\n    case 'C':             // 清空\r\n      return ('');\r\n    case 'CE':            // 删除\r\n      if (output.length === 1) {\r\n        return '0';\r\n      } else {\r\n        return (output.slice(0, -1) || '');\r\n      }\r\n\r\n    case '.':\r\n      if (output.indexOf('.') > 0) {\r\n        return output;\r\n      }else{\r\n        return (output + '.');\r\n      }\r\n    default:\r\n      return '';\r\n  }\r\n\r\n};\r\n\r\nexport {generateOutput};","let id = parseInt(window.localStorage.getItem('idMax') || '0');\r\nconst createId = () => {\r\n  id += 1;\r\n  window.localStorage.setItem('idMax', id.toString())\r\n  return id;\r\n};\r\n\r\nexport {createId};","import {useEffect, useRef} from 'react';\r\n\r\nconst useUpdate = (fn: () => void, deps: any[]) => {\r\n  const count = useRef(0);           // 判断是否为 第一次渲染\r\n  useEffect(() => { count.current += 1; });\r\n  useEffect(() => {\r\n      if (count.current > 1) {\r\n        // eslint-disable-next-line\r\n        fn()\r\n      }\r\n    }, deps);\r\n};\r\n\r\nexport {useUpdate};\r\n\r\n","import {useEffect, useState} from 'react';\r\nimport {createId} from '../lib/createId';\r\nimport {useUpdate} from './useUpdate';\r\n\r\n// 尝试解决 多次调用 createId 导致 id 的错误增长\r\n\r\nconst useTags = () => {                         // 使用 use 开头表示自定义 hook\r\n  const [tags, setTags] = useState<{ id: number; name: string }[]>([]);\r\n  const findTag = (id: number) => tags.filter(tag => tag.id === id)[0];\r\n\r\n\r\n\r\n  // React 钩子, 需要保证 每次修改之后，变成新的数据。\r\n  useUpdate(()=>{\r\n    window.localStorage.setItem('tags',JSON.stringify(tags))\r\n  },[tags])\r\n  useEffect(() => {\r\n    let localTags = JSON.parse(window.localStorage.getItem('tags') || '[]');\r\n      if(localTags.length === 0 ){\r\n        localTags = [\r\n          {id: createId(), name: '衣'},\r\n          {id: createId(), name: '食'},\r\n          {id: createId(), name: '住'},\r\n          {id: createId(), name: '行'}\r\n        ]\r\n      }\r\n      setTags(localTags)\r\n    }, []);\r\n\r\n  const findTagIndex = (id: number) => {\r\n    let result = -1;\r\n    for (let i = 0; i < tags.length; i++) {\r\n      if (tags[i].id === id) {\r\n        result = i;\r\n        break;\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n\r\n  const addTag = () => {\r\n    const tagName = window.prompt('新标签名称为：');\r\n    if (tagName !== null && tagName.trim() !== '') {\r\n      // 这里暂时使用 随机数作为 ID，\r\n      setTags([...tags, {id: createId(), name: tagName}]);          // 新增的数据添加到 原数组的后面\r\n    }\r\n  };\r\n\r\n  const updateTag = (id: number, obj: { name: string }) => {\r\n    //深拷贝 一份\r\n    setTags(tags.map(\r\n      tag => tag.id === id ? {id, name: obj.name} : tag\r\n    ));\r\n  };\r\n\r\n  const deleteTag = (id: number) => {\r\n    setTags(tags.filter(tag => tag.id !== id));\r\n  };\r\n\r\n  const getName = (id:number)=>{\r\n      const tag =  tags.filter(t => t.id  === id )[0]\r\n      return tag ? tag.name : '';\r\n  }\r\n\r\n  return {\r\n    tags, setTags, addTag, findTag, updateTag, findTagIndex, deleteTag,getName,\r\n  };\r\n};\r\nexport {useTags};\r\n\r\n","import styled from 'styled-components';\r\nimport React from 'react';\r\nimport {useTags} from '../../hooks/useTags';\r\n// import {createId} from '../../lib/createId';\r\n\r\nconst Wrapper = styled.section`\r\n  background-color: #FFFFFF;\r\n  padding: 12px 16px;\r\n  flex-grow: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-end;\r\n  align-items: flex-start;\r\n  > ol{\r\n    margin:  0 -12px;\r\n    \r\n    >li{\r\n      background-color: #a7a7a7;\r\n      border-radius: 18px;\r\n      display: inline-block;\r\n      padding: 3px 18px;\r\n      font-size: 14px;\r\n      margin: 8px  12px ;\r\n      &.selected{\r\n        background-color:#47f69f ;\r\n      }\r\n    }\r\n\r\n  }\r\n  > button  {\r\n    background: none;\r\n    border:none;\r\n    padding: 2px 4px;\r\n    border-bottom: 1px solid #333;\r\n    color: #666;\r\n    margin-top: 8px;\r\n  }\r\n`;\r\n\r\ntype PropsType = {\r\n  value: number[],\r\n  onChange:( selected:number[])=>void\r\n}\r\n\r\nconst TagsSection: React.FunctionComponent<PropsType> = (props) => {\r\n  const selectedTagIds = props.value\r\n  const {tags,addTag}=useTags()\r\n\r\n  // 判断该标签是否被选中\r\n  const onToggleTag = (tagId: number) => {\r\n    const index = selectedTagIds.indexOf(tagId);\r\n    if (index >= 0) {\r\n      props.onChange(selectedTagIds.filter(t => t !== tagId));\r\n  // 如果 标签在 选中的里面，就将没有选中的标签 筛选出来，剩下选中的到 setSelectedTags的里面，其他的就留在选中标签里面，\r\n    } else {\r\n      props.onChange([...selectedTagIds, tagId]);\r\n    }\r\n  };\r\n\r\n  const getClass=(tagId:number) => selectedTagIds.indexOf(tagId) >= 0 ? 'selected' : ''\r\n\r\n  return (\r\n    <Wrapper>\r\n      <ol>\r\n        {tags.map(tag =>\r\n          <li key={tag.id} onClick={() => onToggleTag(tag.id)} className={getClass(tag.id)} >{tag.name}</li>)\r\n        }\r\n      </ol>\r\n      <button onClick={addTag}>新增标签</button>\r\n\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport {TagsSection};","// 对 record 记录的所有操作\r\nimport {useEffect, useState} from 'react';\r\nimport {useUpdate} from './useUpdate';\r\n\r\nexport type RecordItem = {\r\n  tagIds: number[]\r\n  note: string\r\n  category: '-' | '+'\r\n  amount: number\r\n  createdAt: string\r\n}\r\n// type newRecordItem = {\r\n//   tagIds: number[]\r\n//   note: string\r\n//   category: '-' | '+'\r\n//   amount: number\r\n// }          // 等同于下面 Omit 就是排除某项不需要的类型\r\ntype newRecordItem = Omit<RecordItem, 'createdAt'>\r\n\r\nconst useRecords = () => {\r\n  const [records, setRecords] = useState<RecordItem[]>([]);\r\n\r\n  const addRecord = (newRecord: newRecordItem) => {\r\n    if (newRecord.amount <= 0){\r\n      alert(\"请输入正确的金额~~\")\r\n      return false\r\n    }\r\n    if (newRecord.tagIds.length === 0) {\r\n      alert('请选择你的标签~');\r\n      return false;\r\n    }\r\n    const record = {...newRecord, createdAt: (new Date()).toISOString()};\r\n    setRecords([...records, record]);\r\n    return true;\r\n  };\r\n\r\n  useEffect(() => {\r\n    setRecords(JSON.parse(window.localStorage.getItem('records') || '[]'));\r\n  }, []);\r\n\r\n  useUpdate(() => {\r\n    window.localStorage.setItem('records', JSON.stringify(records));\r\n  }, [records]);\r\n\r\n  return {records, addRecord};\r\n};\r\nexport {useRecords};","import Layout from '../components/Layout';\nimport React, {useState} from 'react';\nimport styled from 'styled-components';\nimport {CategorySection} from './Money/CategorySection';\nimport {NoteSection} from './Money/NoteSection';\nimport {NumberPadSection} from './Money/NumberPadSection';\nimport {TagsSection} from './Money/TagsSection';\nimport {useRecords} from '../hooks/useRecords';\n\nconst MyLayout = styled(Layout)`\n  display: flex;\n  flex-direction: column;\n`;\nconst CategoryWrapper = styled.div`\n  background-color: #47f69f;\n`\n\n\ntype Category = '-' | '+'\n\nconst defaultData = {\n  tagIds: [] as number[],\n  note: '',\n  category: '-' as Category,\n  amount: 0\n};\n\n\n\nfunction Money() {\n  const [selected, setSelected] = useState(defaultData);\n  const {addRecord} = useRecords();\n\n  // type Selected = typeof  selected\n  const onChange = (obj: Partial<typeof selected>) => {       // obj 可以是 Selected 类型的一部风类型\n    setSelected({...selected, ...obj});\n  };\n  const submitRecords = () => {\n    if (addRecord(selected)) {\n      alert('保存成功！');\n      setSelected(defaultData);\n    }\n  };\n\n  return (\n    <MyLayout>\n      <TagsSection value={selected.tagIds} onChange={(tagIds) => onChange({tagIds})}/>\n      <NoteSection value={selected.note} onChange={(note) => onChange({note})}/>\n      <CategoryWrapper>\n        <CategorySection value={selected.category} onChange={(category) => onChange({category})}/>\n      </CategoryWrapper>\n      <NumberPadSection value={selected.amount} onChange={(amount) => onChange({amount})} onOK={submitRecords}/>\n\n    </MyLayout>\n  );\n}\n\nexport default Money;\n","import Layout from '../components/Layout';\nimport React, {ReactNode, useState} from 'react';\nimport {CategorySection} from './Money/CategorySection';\nimport styled from 'styled-components';\nimport {RecordItem, useRecords} from '../hooks/useRecords';\nimport {useTags} from '../hooks/useTags';\n\nimport day from 'dayjs';\n\nconst CategoryWrapper = styled.div`\n  background-color: white;\n`;\nconst Item = styled.div`\n  display: flex;\n  justify-content: space-between;\n  background-color: white;\n  font-size: 18px;\n  line-height: 20px;\n  padding: 10px 16px ;\n   > .note{\n    margin-right: auto;\n    padding-left: 16px;\n    color:#999;\n   }\n  \n`;\nconst Header = styled.h3`\n  font-size: 18px;\n   line-height: 20px;\n   padding:10px 16px;\n`\n\nfunction Statistics() {\n  const [category, setCategory] = useState<'-' | '+'>('-');\n  const {records} = useRecords();\n  const {getName} = useTags();\n  // 支出，收入分开\n  const selectedRecords = records.filter(r => r.category === category);\n  const hash: { [K: string]: RecordItem[] } = {};\n  selectedRecords.map(r => {\n    const key = day(r.createdAt).format('YYYY年MM月DD日');\n    // value = r\n    if (!(key in hash)) {\n      hash[key] = [];\n    }\n      hash[key].push(r);\n  });\n  const array = Object.entries(hash).sort((a, b) => {\n    if (a[0] === b[0]) return 0;\n    if (a[0] > b[0]) return -1;\n    if (a[0] < b[0]) return 1;\n    return 0\n  });\n\n  return (\n    <Layout>\n      <CategoryWrapper>\n        <CategorySection value={category} onChange={value => setCategory(value)}/>\n      </CategoryWrapper>\n\n      {array.map(([date, records]) =><div key={date}>\n        <Header>{date}</Header>\n        <div>\n          {records.map(r => {\n            return (\n              <Item key={r.createdAt}>\n                <div className=\"tags oneLine\">\n                  {r.tagIds\n                    .map(tagID => <span key={tagID}>{getName(tagID)}</span>)\n                    .reduce((result,span, index, array)=>result.concat(index<array.length-1 ? [span,'，'] : [span]),[] as ReactNode[])\n                  }\n                </div>\n                {r.note && <div className=\"note\">{r.note}</div>}\n                <div className=\"amount\">\n                  ￥{r.amount}\n                </div>\n              </Item>\n            );\n          })}\n        </div>\n      </div>)}\n\n\n    </Layout>\n  );\n\n}\n\n\nexport default Statistics;\n","import styled from 'styled-components';\r\n\r\nconst Button = styled.button`\r\n   font-size: 18px;\r\n   border:none;\r\n   padding: 8px 12px ;\r\n   border-radius: 4px;\r\n   background-color: #04f5f0;\r\n   \r\n`;\r\n\r\nexport {Button}","import Layout from '../components/Layout';\nimport React from 'react';\nimport {useTags} from '../hooks/useTags';\nimport styled from 'styled-components';\nimport Icon from '../components/Icon';\nimport {Link} from 'react-router-dom';\nimport {Button} from '../components/Button';\n\n\nconst TagList = styled.ol`\n  font-size: 16px;\n  background-color: white;\n  >li{\n    border-bottom: 2px solid #d5d5d5;\n    line-height: 20px;\n    margin: 0 16px;\n\n    > a{\n      padding:12px 0 12px 0 ;\n      display: flex;    \n      justify-content: space-between;\n      align-items: center;\n    }\n  }\n`;\n\nconst Center = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n`;\n\nconst Space = styled.div`\n  height: 48px;\n`;\n\nfunction Tags() {\n  const {tags,addTag} = useTags();\n  return (\n    <Layout>\n      <TagList>\n        {tags.map(tag =>\n          <li key={tag.id}>\n            <Link to={'/tags/' + tag.id}>\n              <span className='oneLine'>{tag.name}</span>\n              <Icon name=\"right\"/>\n            </Link>\n          </li>\n        )}\n      </TagList>\n      <Center>\n        <Space/>\n        <Button onClick={addTag}>新增标签</Button>\n      </Center>\n    </Layout>\n  );\n}\n\nexport default Tags;\n","import React from 'react';\n\nfunction NoMatch() {\n  return (\n    <div>页面不存在，你丫输错地址了吧！</div>\n  );\n}\n\nexport default NoMatch;\n","import React from 'react';\r\nimport {useParams} from 'react-router-dom';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {useTags} from '../hooks/useTags';\r\nimport Layout from '../components/Layout';\r\nimport Icon from '../components/Icon';\r\nimport {Button} from '../components/Button';\r\nimport styled from 'styled-components';\r\nimport {Input} from '../components/Input';\r\n\r\ntype ParamsType = {\r\n  id: string\r\n}\r\n\r\nconst Topbar = styled.header`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  line-height: 20px;\r\n  padding: 14px;\r\n  background-color: white;\r\n`;\r\nconst InputWrapper = styled.div`\r\nbackground-color: white;\r\npadding: 0 16px;\r\nmargin-top: 8px;\r\n`;\r\nconst Center = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n`;\r\nconst Space = styled.div`\r\n  height: 48px;\r\n`;\r\n\r\n\r\n\r\nconst TagEdit: React.FC = () => {\r\n  let {id: idString} = useParams<ParamsType>();\r\n  const {findTag, updateTag, deleteTag} = useTags();\r\n  const tag = findTag(parseInt(idString));\r\n\r\n  let history = useHistory()\r\n  const onClickBack = () => {\r\n    history.goBack()\r\n  };\r\n\r\n  const tagContent = (tag: { id: number; name: string }) => (\r\n    <div>\r\n      <InputWrapper>\r\n        <Input value={tag.name} label='标签名' type='text' placeholder='输入你的标签名~'\r\n               onChange={(e) => {updateTag(tag.id, {name: e.target.value});}}/>\r\n      </InputWrapper>\r\n      <Center>\r\n        <Space/>\r\n        <Button onClick={() => deleteTag(tag.id)}>\r\n          删除标签\r\n        </Button>\r\n      </Center>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Layout>\r\n      <div>\r\n        <Topbar>\r\n          <Icon name='left' onClick={onClickBack}/>\r\n          <span>编辑标签</span>\r\n          <Icon name=''/>\r\n        </Topbar>\r\n      </div>\r\n\r\n      {tag ? tagContent(tag) : <Center>tag 不存在</Center>}\r\n\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport {TagEdit};","import React from 'react';\nimport {HashRouter as Router, Switch, Route, Redirect} from 'react-router-dom';\nimport Money from './views/Money';\nimport Statistics from './views/Statistics';\nimport Tags from './views/Tags';\nimport NoMatch from './views/NoMatch';\nimport {TagEdit} from './views/TagEdit';\nimport styled from 'styled-components';\n\nconst AppWrapper = styled.div`\n  color:#333;\n`;\n\nfunction App() {\n  return (\n    <AppWrapper>\n      <Router>\n        <Switch>\n          <Route exact={true} path=\"/tags\">\n            <Tags/>\n          </Route>\n          <Route exact={true} path=\"/tags/:id\">\n            <TagEdit/>\n          </Route>\n          <Route path=\"/money\">\n            <Money/>\n          </Route>\n          <Route path=\"/statistics\">\n            <Statistics/>\n          </Route>\n          <Redirect exact from=\"/\" to=\"/money\"/>\n          <Route path=\"*\">\n            <NoMatch/>\n          </Route>\n        </Switch>\n      </Router>\n    </AppWrapper>\n\n\n  );\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'index.scss';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}